<div style="display: inline-block; margin: 5px 0; padding: 5px; background-color: #fafafa; border: 1px solid #ccc; border-radius: 8px; box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);">
    <!-- توسيط العنوان بمساحة صغيرة -->
    <div style="display: flex; justify-content: center; align-items: center; font-size: 14px; font-weight: bold; padding: 2px; margin-bottom: 2px; background-color: #e9ecef; border-radius: 4px;">
        تفاصيل الإجمالي
    </div>

    <table style="border-collapse: collapse; direction: rtl; overflow: hidden; line-height: 1.2;">
        <tbody>

            <!-- net_total -->
            {% if doc.net_total %}
            <tr>
                <th style="text-align: right; padding: 5px; border: 1px solid #ccc; background-color: #e9ecef; font-weight: bold; white-space: nowrap;">الإجمالي الصافي الخاضع للضريبة</th>
                <td style="text-align: center; padding: 5px; border: 1px solid #ccc; font-weight: bold; color: green; white-space: nowrap;">{{ "{:.2f}".format(doc.net_total | abs) }} ريال</td>
            </tr>
            {% endif %}

            <!-- total_taxes_and_charges -->
            {% if doc.total_taxes_and_charges %}
            <tr>
                <th style="text-align: right; padding: 5px; border: 1px solid #ccc; background-color: #e9ecef; font-weight: bold; white-space: nowrap;">إجمالي ضريبة القيمة المضافة 15%</th>
                <td style="text-align: center; padding: 5px; border: 1px solid #ccc; font-weight: bold; color: green; white-space: nowrap;">{{ "{:.2f}".format(doc.total_taxes_and_charges | abs) }} ريال</td>
            </tr>
            {% endif %}

            <!-- discount_amount -->
            {% if doc.discount_amount %}
            <tr style="font-size: 12px; text-align: center;">
                <th colspan="2" style="font-weight: 600; border: 1px solid black; white-space: nowrap;">الخصم</th>
                <td style="font-weight: 600;border: 1px solid black;text-align: center; white-space: nowrap;">{{ "{:.2f}".format(doc.discount_amount) }} ريال</td>
            </tr>
            {% endif %}

            <!-- grand_total -->
            {% if doc.grand_total %}
            <tr>
                <th style="text-align: right; padding: 6px; border: 1px solid #ccc; background-color: #e9ecef; font-weight: bold; font-size: 1.1em; white-space: nowrap;">الإجمالي مع الضريبة (المستحق)</th>
                <td style="text-align: center; padding: 5px; border: 1px solid #ccc; font-weight: bold; color: green; white-space: nowrap;">{{ "{:.2f}".format(doc.grand_total | abs) }} ريال</td>
            </tr>
            {% endif %}

        </tbody>
    </table>
</div>
